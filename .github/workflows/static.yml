# Simple workflow for deploying static content to GitHub Pages
name: Deploy static content to Pages

on:
  # Runs on pushes targeting the default branch
  push:
    branches: [ "main" ]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages
permissions:
  contents: write
  pages: write
  id-token: write

# Allow one concurrent deployment
concurrency:
  group: "pages"
  cancel-in-progress: true

jobs:
  # Single deploy job since we're just deploying
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Setup Pages
        uses: actions/configure-pages@v2

      - name: Converts terms_of_service Markdown to HTML
        uses: jaywcjlove/markdown-to-html-cli@main
        with:
          source: terms_of_service.md
          output: terms_of_service.html
          github-corners: https://github.com/cleanhub-app/documents/blob/main/terms_of_service.md
          favicon: data:image/svg+xml,<svg version=%221.1%22 xmlns=%22http://www.w3.org/2000/svg%22 width=%22200%22 height=%22200%22 viewBox=%220 0 200 200%22 > <g> <path fill=%22#F14C00%22 d=%22M143.5,42.6c-2.3,-0.3 -4.6,-0.4 -7,-0.4c-14.1,0 -27.4,4.6 -38.3,13.4l-7.6,6.3l11.5,13.6l7.3,-6.2c7.6,-6.1 17.2,-9.4 27.2,-9.4c13.6,0 26.1,5.9 34.4,16.2c11.8,14.7 12.6,36.1 2,52c0.6,5.5 0.5,11.1 -0.1,16.5c-0.4,3.5 -1,7 -1.8,10.4l4.3,-3.4c12.7,-10.2 20.7,-24.9 22.5,-41.4c1.8,-16.5 -2.8,-32.6 -13,-45.3C174.7,52.4 160,44.4 143.5,42.6z%22 /> <path fill=%22#FF000000%22 d=%22M61.5,109.5l13.7,-11.5l-6.3,-7.5C54,72 57.1,43.8 75.6,28.9c7.6,-6.1 17.3,-9.4 27.2,-9.4c8.9,0 17.4,2.5 24.6,7.3c5.8,-0.7 11.9,-0.7 17.7,-0.1c2.9,0.3 5.9,0.8 8.9,1.5l-3,-3.7c-10.2,-12.7 -24.9,-20.7 -41.4,-22.5c-2.3,-0.3 -4.7,-0.4 -7,-0.4c-14.1,0 -27.4,4.6 -38.3,13.4C51.8,25.3 43.8,40 42,56.5C40.2,73 44.8,89 55,101.7L61.5,109.5z%22 /> <path fill=%22#FF000000%22 d=%22M137.7,90L124,101.4l6.4,7.5c14.8,18.5 11.7,46.7 -6.8,61.6c-7.6,6.1 -17.3,9.4 -27.2,9.4c-8.9,0 -17.4,-2.5 -24.6,-7.3c-5.8,0.7 -11.9,0.7 -17.7,0.1c-2.9,-0.3 -5.9,-0.8 -8.9,-1.5l3,3.7c10.2,12.7 24.9,20.7 41.4,22.5c2.3,0.3 4.7,0.4 7,0.4h0c14.1,0 27.4,-4.6 38.3,-13.4c12.7,-10.2 20.7,-24.9 22.5,-41.4c1.8,-16.5 -2.8,-32.6 -13,-45.3L137.7,90z%22 /> <path fill=%22#F14C00%22 d=%22M62.6,157.3L62.6,157.3c14.1,0 27.4,-4.6 38.3,-13.4l7.5,-6.3L97,124l-7.3,6.1c-7.6,6.1 -17.2,9.4 -27.2,9.4c-13.6,0 -26.1,-5.9 -34.4,-16.2c-11.8,-14.7 -12.6,-36.1 -2,-52c-0.6,-5.5 -0.5,-11.1 0.1,-16.5c0.4,-3.5 1,-6.9 1.8,-10.4l-4.3,3.4C11.1,58 3.1,72.7 1.3,89.2c-1.8,16.5 2.8,32.6 13,45.3c10.2,12.7 24.9,20.7 41.4,22.5C58,157.2 60.3,157.3 62.6,157.3z%22 /></g></svg>

      - name: Converts statement Markdown to HTML
        uses: jaywcjlove/markdown-to-html-cli@main
        with:
          source: privacy_policy.md
          output: privacy_policy.html
          github-corners: https://github.com/cleanhub-app/documents/blob/main/privacy_policy.md
          favicon: data:image/svg+xml,<svg version=%221.1%22 xmlns=%22http://www.w3.org/2000/svg%22 width=%22200%22 height=%22200%22 viewBox=%220 0 200 200%22 > <g> <path fill=%22#F14C00%22 d=%22M143.5,42.6c-2.3,-0.3 -4.6,-0.4 -7,-0.4c-14.1,0 -27.4,4.6 -38.3,13.4l-7.6,6.3l11.5,13.6l7.3,-6.2c7.6,-6.1 17.2,-9.4 27.2,-9.4c13.6,0 26.1,5.9 34.4,16.2c11.8,14.7 12.6,36.1 2,52c0.6,5.5 0.5,11.1 -0.1,16.5c-0.4,3.5 -1,7 -1.8,10.4l4.3,-3.4c12.7,-10.2 20.7,-24.9 22.5,-41.4c1.8,-16.5 -2.8,-32.6 -13,-45.3C174.7,52.4 160,44.4 143.5,42.6z%22 /> <path fill=%22#FF000000%22 d=%22M61.5,109.5l13.7,-11.5l-6.3,-7.5C54,72 57.1,43.8 75.6,28.9c7.6,-6.1 17.3,-9.4 27.2,-9.4c8.9,0 17.4,2.5 24.6,7.3c5.8,-0.7 11.9,-0.7 17.7,-0.1c2.9,0.3 5.9,0.8 8.9,1.5l-3,-3.7c-10.2,-12.7 -24.9,-20.7 -41.4,-22.5c-2.3,-0.3 -4.7,-0.4 -7,-0.4c-14.1,0 -27.4,4.6 -38.3,13.4C51.8,25.3 43.8,40 42,56.5C40.2,73 44.8,89 55,101.7L61.5,109.5z%22 /> <path fill=%22#FF000000%22 d=%22M137.7,90L124,101.4l6.4,7.5c14.8,18.5 11.7,46.7 -6.8,61.6c-7.6,6.1 -17.3,9.4 -27.2,9.4c-8.9,0 -17.4,-2.5 -24.6,-7.3c-5.8,0.7 -11.9,0.7 -17.7,0.1c-2.9,-0.3 -5.9,-0.8 -8.9,-1.5l3,3.7c10.2,12.7 24.9,20.7 41.4,22.5c2.3,0.3 4.7,0.4 7,0.4h0c14.1,0 27.4,-4.6 38.3,-13.4c12.7,-10.2 20.7,-24.9 22.5,-41.4c1.8,-16.5 -2.8,-32.6 -13,-45.3L137.7,90z%22 /> <path fill=%22#F14C00%22 d=%22M62.6,157.3L62.6,157.3c14.1,0 27.4,-4.6 38.3,-13.4l7.5,-6.3L97,124l-7.3,6.1c-7.6,6.1 -17.2,9.4 -27.2,9.4c-13.6,0 -26.1,-5.9 -34.4,-16.2c-11.8,-14.7 -12.6,-36.1 -2,-52c-0.6,-5.5 -0.5,-11.1 0.1,-16.5c0.4,-3.5 1,-6.9 1.8,-10.4l-4.3,3.4C11.1,58 3.1,72.7 1.3,89.2c-1.8,16.5 2.8,32.6 13,45.3c10.2,12.7 24.9,20.7 41.4,22.5C58,157.2 60.3,157.3 62.6,157.3z%22 /></g></svg>

      - name: Upload documents
        uses: actions/upload-pages-artifact@v1
        with:
          path: '${{ github.workspace }}'

      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v1
